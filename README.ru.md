# Docker Jacred-FDB

> –î–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏: [English](README.md) | [–†—É—Å—Å–∫–∏–π](README.ru.md)

[![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/pavelpikta/docker-jacred-fdb?sort=semver&logo=github)](https://github.com/pavelpikta/docker-jacred-fdb/releases/latest)
[![Release Workflow](https://img.shields.io/github/actions/workflow/status/pavelpikta/docker-jacred-fdb/release.yml?branch=main&label=Release%20Workflow&logo=github)](https://github.com/pavelpikta/docker-jacred-fdb/actions/workflows/release.yml)
[![GitHub Container Registry](https://img.shields.io/badge/ghcr.io-docker--jacred--fdb-blue?logo=github)](https://ghcr.io/pavelpikta/jacred-fdb)

[![Semantic Release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)
[![Conventional Commits](https://img.shields.io/badge/Conventional%20Commits-1.0.0-%23FE5196?logo=conventionalcommits&logoColor=white)](https://conventionalcommits.org)
[![License](https://img.shields.io/github/license/pavelpikta/docker-jacred-fdb?color=blue)](https://github.com/pavelpikta/docker-jacred-fdb/blob/main/LICENSE)

[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/pavelpikta/docker-jacred-fdb)

Docker-–æ–±—Ä–∞–∑ –¥–ª—è [Jacred](https://github.com/immisterio/jacred-fdb) ‚Äî –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–µ–∫–µ—Ä–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–≥–æ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–≤—ã—à–µ–Ω–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –º—É–ª—å—Ç–∏–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ CI/CD-–ø—Ä–æ—Ü–µ—Å—Å—ã.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú—É–ª—å—Ç–∏–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –æ–±—Ä–∞–∑—ã –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º `amd64`, `arm64` –∏ `arm`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ**: –∑–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –∞—Ç–∞–∫–∏
- **–ù–∞–¥—ë–∂–Ω–∞—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è**: healthcheck, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CI/CD**: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã
- **SBOM –∏ –∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏–∏**: –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤–æ–∫ —Å SLSA-–∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏—è–º–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞**: –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ .NET 9 —Å AOT-–∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π**: –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–º–∞

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Docker Run

```bash
docker run -d \
  --name jacred \
  -p 9117:9117 \
  -v jacred-config:/app/config \
  -v jacred-data:/app/Data \
  --restart unless-stopped \
  ghcr.io/pavelpikta/jacred-fdb:latest
```

### Docker Compose

```yaml
version: '3.8'

services:
  jacred:
    image: ghcr.io/pavelpikta/jacred-fdb:latest
    container_name: jacred
    restart: unless-stopped
    ports:
      - "9117:9117"
    volumes:
      - jacred-config:/app/config
      - jacred-data:/app/Data
    environment:
      - TZ=Europe/London
      - UMASK=0027
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--spider", "http://127.0.0.1:9117"]
      interval: 30s
      timeout: 15s
      retries: 3
      start_period: 45s

volumes:
  jacred-config:
  jacred-data:
```

## üê≥ –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—Ä–∞–∑—ã

### –†–µ–µ—Å—Ç—Ä—ã

| –†–µ–µ—Å—Ç—Ä | –ò–º—è –æ–±—Ä–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------------|----------|
| GitHub Container Registry | `ghcr.io/pavelpikta/jacred-fdb` | –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏ —Å –∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏—è–º–∏ |
| GitHub Container Registry | `ghcr.io/pavelpikta/jacred-fdb:v1.0.0` | –ü—Ä–∏–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ |
| GitHub Container Registry | `ghcr.io/pavelpikta/jacred-fdb:1.0.0` | –ü—Ä–∏–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ |

### –¢–µ–≥–∏

| –¢–µ–≥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |
|-----|----------|--------------------|
| `latest` | –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑ –∏–∑ –≤–µ—Ç–∫–∏ `main` | –ü—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–ª–∏–∑–µ |
| `develop` | –°–±–æ—Ä–∫–∏ –∏–∑ –≤–µ—Ç–∫–∏ `develop` | –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ |
| `v1.2.3` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è | –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π |
| `1.2.3` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è | –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π |
| `sha-abcd123` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç | –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π |

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-----------------------|----------|
| `TZ` | `UTC` | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `UMASK` | `0027` | –ú–∞—Å–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ |
| `ASPNETCORE_URLS` | `http://0.0.0.0:9117` | –ê–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å–ª—É—à–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
| `ASPNETCORE_ENVIRONMENT` | `Production` | –°—Ä–µ–¥–∞ ASP.NET Core |

### –¢–æ–º—ã

| –ü—É—Ç—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω |
|------|------------|------------|
| `/app/config` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã | ‚úÖ |
| `/app/Data` | –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ª–æ–≥–∏ | ‚úÖ |

### –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`init.conf`):

```json
{
  "listenip": "any",
  "listenport": 9117,
  "apikey": "",
  "mergeduplicates": true,
  "openstats": true,
  "opensync": true,
  "log": false,
  "syncapi": "http://redapi.cfhttp.top",
  "synctrackers": ["rutracker", "rutor", "kinozal", "nnmclub", "megapeer", "bitru", "toloka", "lostfilm", "baibako", "torrentby", "selezen"],
  "disable_trackers": ["hdrezka", "anifilm", "anilibria"],
  "syncsport": false,
  "syncspidr": true,
  "maxreadfile": 200,
  "tracks": false,
  "tracksdelay": 20000,
  "tsuri": ["http://127.0.0.1:8090"],
  "timeStatsUpdate": 30,
  "timeSync": 60,
  "evercache": {
    "enable": false,
    "validHour": 1,
    "maxOpenWriteTask": 200,
    "dropCacheTake": 200
  }
}
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `/app/init.conf` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–º `/app/config/init.conf`.
- –ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `/app/config/init.conf` –æ–±—Ä–∞—Ç–Ω–æ –≤ `/app/init.conf` –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º Jacred.
- –í–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª –≤ –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–æ–º–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

| –ü—É—Ç—å | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|------|------------|
| `/app/Data/fdb` | –§–∞–π–ª—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Jacred |
| `/app/Data/temp` | –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –≤–∫–ª—é—á–∞—è `stats.json` |
| `/app/Data/tracks` | –ö—ç—à —Ç—Ä–µ–∫–µ—Ä–æ–≤ –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| `/app/config/init.conf` | –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

## üèóÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–±–æ—Ä–∫–µ

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏

| –ê—Ä–≥—É–º–µ–Ω—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------------------|----------|
| `ALPINE_VERSION` | `3.22.2` | –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è Alpine Linux |
| `JACRED_VERSION` | `dd15c374...` | SHA –∫–æ–º–º–∏—Ç–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ Jacred |
| `DOTNET_VERSION` | `9.0` | –í–µ—Ä—Å–∏—è .NET Runtime |

### –ú–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è —Å–±–æ—Ä–∫–∞

Docker-–æ–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏:

1. **Builder-—ç—Ç–∞–ø**: –∫–æ–º–ø–∏–ª—è—Ü–∏—è Jacred –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º .NET 9 SDK
2. **–≠—Ç–∞–ø —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö ffmpeg/ffprobe**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö ffmpeg –∏ ffprobe –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ–¥–∏–∞
3. **Runtime-—ç—Ç–∞–ø**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Alpine Linux —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (runtime .NET –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å –∫–æ–º–ø—Ä–µ—Å—Å–∏–µ–π
- Ahead-of-time (AOT) –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–µ–∑–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

- **–ó–∞–ø—É—Å–∫ –±–µ–∑ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π**: –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `jacred` (UID: 1000)
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏**: –±–∞–∑–∞ Alpine Linux —Ç–æ–ª—å–∫–æ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏
- **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**: –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∑–∞–ø–∏—Å–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ SIGTERM/SIGINT

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤–æ–∫

- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SBOM**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –∏—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
- **SLSA-–∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏–∏**: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–æ–∫
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Dependabot
- **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä –∏ –∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏–π –æ–±—Ä–∞–∑–∞:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cosign
curl -O -L "https://github.com/sigstore/cosign/releases/latest/download/cosign-linux-amd64"
sudo mv cosign-linux-amd64 /usr/local/bin/cosign
sudo chmod +x /usr/local/bin/cosign

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏–∏
cosign verify-attestation \
  --type slsaprovenance \
  --certificate-identity-regexp 'https://github\.com/pavelpikta/docker-jacred-fdb/\.github/workflows/.+' \
  --certificate-oidc-issuer https://token.actions.githubusercontent.com \
  ghcr.io/pavelpikta/jacred-fdb:latest
```

## üö¶ Healthcheck

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π healthcheck, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```dockerfile
HEALTHCHECK --interval=30s \
    --timeout=15s \
    --start-period=45s \
    --retries=3 \
    --start-interval=5s \
    CMD wget --quiet --spider http://127.0.0.1:9117 || exit 1
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f jacred

# –õ–æ–≥–∏ —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏
docker logs -t jacred
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–¥–æ—Ä–æ–≤—å—è
docker inspect jacred --format='{{.State.Health.Status}}'

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ healthcheck
docker inspect jacred --format='{{range .State.Health.Log}}{{.Output}}{{end}}'
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker logs jacred

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–º–æ–≤
docker inspect jacred --format='{{range .Mounts}}{{.Source}}:{{.Destination}} {{.Mode}}{{end}}'
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏

```bash
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –Ω–∞ —Ç–æ–º–∞—Ö
sudo chown -R 1000:1000 /path/to/your/volumes
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
docker exec jacred rm -f /app/config/init.conf
docker restart jacred
```

### –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏

–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –æ–±–æ–ª–æ—á–∫–æ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –≤—ã–≤–æ–¥–æ–º:

```bash
docker run --rm -it \
  -p 9117:9117 \
  -v jacred-config:/app/config \
  ghcr.io/pavelpikta/jacred-fdb:latest \
  /bin/sh
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

- –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –æ–±—Ä–∞–∑–∞: `docker pull ghcr.io/pavelpikta/jacred-fdb:latest`
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –æ–±—Ä–∞–∑ —Å –ø—Ä–µ–∂–Ω–∏–º–∏ —Ç–æ–º–∞–º–∏.
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –≤–µ—Ä—Å–∏–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –±–∞–Ω–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞ –≤ `docker logs jacred`.

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

- –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

  ```bash
  docker run --rm \
    -v jacred-config:/app/config \
    -v "$(pwd)":/backup \
    alpine tar czf /backup/jacred-config.tar.gz -C /app config
  ```

- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞–º–µ–Ω–∏–≤ —Ç–æ–º –Ω–∞ `-v jacred-data:/app/Data` –∏ –∏–∑–º–µ–Ω–∏–≤ –∏–º—è –∞—Ä—Ö–∏–≤–∞.
- –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–º–∞ –¥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

## ü§ù –í–∫–ª–∞–¥

–ú—ã —Ä–∞–¥—ã –≤–∫–ª–∞–¥—É —Å–æ–æ–±—â–µ—Å—Ç–≤–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –Ω–∏–∂–µ.

### –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **Fork** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. **–°–æ–∑–¥–∞–π—Ç–µ** –≤–µ—Ç–∫—É: `git checkout -b feature/amazing-feature`
3. **–ö–æ–º–º–∏—Ç–∏—Ç–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ [Conventional Commits](https://conventionalcommits.org/):

   ```bash
   git commit -m "feat: add amazing new feature"
   ```

4. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ** –≤–µ—Ç–∫—É: `git push origin feature/amazing-feature`
5. **–û—Ç–∫—Ä–æ–π—Ç–µ** Pull Request

### –§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–æ–≤

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://conventionalcommits.org/) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:

- `feat:` ‚Äî –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ minor-–≤–µ—Ä—Å–∏–∏)
- `fix:` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ patch-–≤–µ—Ä—Å–∏–∏)
- `docs:` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `ci:` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è CI/CD
- `chore:` ‚Äî –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- `BREAKING CHANGE:` ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ major-–≤–µ—Ä—Å–∏–∏)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/pavelpikta/docker-jacred-fdb.git
cd docker-jacred-fdb

# –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
docker build -t jacred-fdb:local .

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
docker run --rm -p 9117:9117 jacred-fdb:local
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ [Apache License 2.0](LICENSE).

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Jacred-FDB](https://github.com/immisterio/jacred-fdb) ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–µ–∫–µ—Ä–æ–≤
- [Alpine Linux](https://alpinelinux.org/) ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏ –ª—ë–≥–∫–∞—è –±–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- [GitHub Actions](https://github.com/features/actions) ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è CI/CD
- [Semantic Release](https://semantic-release.gitbook.io/) ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

---

**–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –µ–º—É ‚≠ê!**

[![Report Bug](https://img.shields.io/badge/Report-Bug-red?logo=github)](https://github.com/pavelpikta/docker-jacred-fdb/issues)  [![Request Feature](https://img.shields.io/badge/Request-Feature-blue?logo=github)](https://github.com/pavelpikta/docker-jacred-fdb/issues)
